{% extends "base.html" %}

{% block title %}
    <title>My Chatroom list</title>
{% endblock %}

{% block content %}
    <div class="bg-slate-800 rounded mb-3">
        <h1 class="text-center text-2xl text-white py-3 font-extrabold">My Chatroom List</h1>
    </div>
    <div class="flex flex-row flex-wrap justify-around scrollbar">
        {% if chatroom_list %}
            {% for chatroom in chatroom_list %}
                <div class="max-w-sm rounded overflow-hidden shadow-lg bg-slate-500 w-80 m-3 flex flex-col p-3">
                    {#                    <a href="{% url 'chat-detail-name' chatroom.name %}">{{ chatroom.name }}</a>#}
                    <a href="{{ chatroom.get_absolute_url }}" class="font-bold text-xl mb-2">{{ chatroom.name }}</a>
                    <div class="px-6 py-4">
                        <p class="text-gray-700 text-base">
                            {{ chatroom.summary }}
                        </p>
                    </div>
                    <form action="{% url 'delete-my-chat' chatroom.name %}" method="post" class="self-end">
                        {% csrf_token %}
                        <button type="submit"
                                class="self-end text-white bg-slate-600 hover:bg-slate-700 dark:focus:ring-slate-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 ">
                            Remove
                        </button>
                    </form>
                </div>
            {% endfor %}
        {% else %}
            <p>You haven't joined any chat yet...</p>
        {% endif %}
    </div>
{% endblock %}